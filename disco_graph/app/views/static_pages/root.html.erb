<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>DiscoGraph</title>
    <!-- <script type="text/javascript" src="https://code.jquery.com/jquery-2.2.0.min.js"></script> -->
    <!-- <script type="text/javascript" src="../../frontend/bundle.js"></script> -->
    <script src="https://d3js.org/d3.v4.min.js"></script>

    <script type="text/javascript">
      $(document).ready(() => {
        const rockButton = document.getElementById("rock-toggle");
        const popButton = document.getElementById("pop-toggle");
        const hipHopButton = document.getElementById("hip-hop-toggle");
        const funkSoulButton = document.getElementById("funk-soul-toggle");
        const electronicButton = document.getElementById("electronic-toggle");
        const classicalButton = document.getElementById("classical-toggle");
        const jazzButton = document.getElementById("jazz-toggle");

        rockButton.addEventListener("click", () => genreButtonClick("rock", rockButton.clicked, $('#startYear').val(), $('#endYear').val()), false);
        popButton.addEventListener("click", () => genreButtonClick("pop", popButton.clicked, $('#startYear').val(), $('#endYear').val()), false);
        hipHopButton.addEventListener("click", () => genreButtonClick("hip-hop", hipHopButton.clicked, $('#startYear').val(), $('#endYear').val()), false);
        funkSoulButton.addEventListener("click", () => genreButtonClick("funk-soul", funkSoulButton.clicked, $('#startYear').val(), $('#endYear').val()), false);
        electronicButton.addEventListener("click", () => genreButtonClick("electronic", electronicButton.clicked, $('#startYear').val(), $('#endYear').val()), false);
        classicalButton.addEventListener("click", () => genreButtonClick("classical", classicalButton.clicked, $('#startYear').val(), $('#endYear').val()), false);
        jazzButton.addEventListener("click", () => genreButtonClick("jazz", jazzButton.clicked, $('#startYear').val(), $('#endYear').val()), false);
      });
    </script>
  </head>


  <body>
    <header><h1 class="logo">DiscoGraphs</h1></header>
    <main>
      <form id="mainForm">
        <div class="yearInputs group">


          <label for="startYear">Start Year
            <input type="range" min="1950" max="2015" value="1950"
            name="startYear" step="1" id="startYear" oninput="startYearUpdate(value)">
            <output for="startYear" id="startYearDisplay">1950</output>
          </label>


        <label for="endYear" id="endYearLabel">End Year
          <input type="range" min="1951" max="2016" value="2017"
          name="endYear" id="endYear" oninput="endYearUpdate(value)">
          <output for="endYear" id="endYearDisplay">2017</output>
        </label>
      </div>

        <div id="d3Graph"></div>

        <section class="genre-buttons group">
          <div class="switch">
            <input type="checkbox" class="check-to-toggle" id="rock-toggle">
            <label for="rock-toggle"></label>
          </div>

          <div class="switch">
            <input type="checkbox" class="check-to-toggle" id="pop-toggle">
            <label for="pop-toggle"></label>
          </div>

          <div class="switch">
            <input type="checkbox" class="check-to-toggle" id="hip-hop-toggle">
            <label for="hip-hop-toggle"></label>
          </div>

          <div class="switch">
            <input type="checkbox" class="check-to-toggle" id="funk-soul-toggle">
            <label for="funk-soul-toggle"></label>
          </div>

          <div class="switch">
            <input type="checkbox" class="check-to-toggle" id="electronic-toggle">
            <label for="electronic-toggle"></label>
          </div>

          <div class="switch">
            <input type="checkbox" class="check-to-toggle" id="classical-toggle">
            <label for="classical-toggle"></label>
          </div>

          <div class="switch">
            <input type="checkbox" class="check-to-toggle" id="jazz-toggle">
            <label for="jazz-toggle"></label>
          </div>
        </section>

        <label for="genre">Sub-Genre
          <input type="text" name="genre" value="" id="genre">
        </label>
        <button>Add sub-genre</button>
      </form>

    </main>


  </body>
  <script type="text/javascript">
  

  // const clearAndFetchData = () => {
  //   localStorage.removeItem("subgenre");
  //
  //   genreQuery({'genre': "rock", 'startYear': 1950, 'endYear': 2016}).then(
  //     (response) => {
  //       localStorage.setItem("rock", JSON.stringify(response["rock"]));},
  //     (err) => console.log(err)
  //
  //   (genreQuery({'genre': "pop", 'startYear': 1950, 'endYear': 2016}).then(
  //     (response) => {
  //       localStorage.setItem("pop", JSON.stringify(response["pop"]));},
  //     (err) => console.log(err)
  //
  //   (genreQuery({'genre': "hip-hop", 'startYear': 1950, 'endYear': 2016}).then(
  //     (response) => {
  //       localStorage.setItem("hip-hop", JSON.stringify(response["hip-hop"]));
  //     },
  //     (err) => console.log(err);
  // }
  </script>
</html>
